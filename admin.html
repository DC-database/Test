<!doctype html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>QuickBites ‚Äî Admin</title>
  <meta id="theme-color" name="theme-color" content="#c8102e">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="topbar"><div class="topbar-inner">
    <div class="logo"><span class="logo-bun"></span> QuickBites Admin</div>
    <a href="index.html" class="btn secondary" style="text-decoration:none">‚Üê Menu</a>
    <button id="themeToggle" class="theme-toggle" aria-pressed="false"><span class="sun">‚òÄÔ∏è</span><span class="moon">üåô</span></button>
  </div></div>

  <main class="admin-wrap">
    <div class="card-panel" id="authPanel">
      <h2>Sign In</h2>
      <p style="color:var(--muted)">Use your admin email & password.</p>
      <label>Email</label><input id="email" type="email" placeholder="admin@example.com">
      <label>Password</label><input id="password" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
      <div style="display:flex;gap:8px;margin-top:10px"><button class="btn" id="signIn">Sign In</button><button class="btn secondary" id="signOut">Sign Out</button></div>
      <div id="authMsg" style="margin-top:8px;color:var(--muted)"></div>
    </div>

    <div class="card-panel" id="dataPanel" style="display:none">
      <h2>Menu Manager</h2>
      <p class="badge">DB Path: <code>menu/</code></p>

      <fieldset style="margin-top:12px">
        <legend>Categories</legend>
        <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:10px">
          <div><label>ID</label><input id="catId" placeholder="burgers"></div>
          <div><label>Name</label><input id="catName" placeholder="Burgers"></div>
          <div><label>Order</label><input id="catOrder" type="number" placeholder="2"></div>
        </div>
        <div style="display:flex;gap:8px;margin-top:10px">
          <button class="btn" id="saveCat">Save/Update Category</button>
          <button class="btn secondary" id="delCat">Delete Category</button>
          <button class="btn secondary" id="refreshCats">Refresh</button>
        </div>
        <table class="table" style="margin-top:10px"><thead><tr><th>ID</th><th>Name</th><th>Order</th></tr></thead><tbody id="catsTable"></tbody></table>
      </fieldset>

      <fieldset style="margin-top:12px">
        <legend>Items</legend>
        <div style="display:grid;grid-template-columns:repeat(2,1fr);gap:10px">
          <div><label>ID</label><input id="itemId" placeholder="cheese-burger"></div>
          <div><label>Name</label><input id="itemName" placeholder="Cheese Burger"></div>
          <div><label>Description</label><input id="itemDesc" placeholder="Beef, cheese, pickles."></div>
          <div><label>Price (QAR)</label><input id="itemPrice" type="number" step="0.01" placeholder="10.00"></div>
          <div><label>Categories (comma)</label><input id="itemCats" placeholder="burgers,featured"></div>
          <div><label>Featured?</label><select id="itemFeatured"><option value="false" selected>No</option><option value="true">Yes</option></select></div>
          <div><label>Image</label><input id="itemImage" type="file" accept="image/*"></div>
          <div><label>Image URL</label><input id="itemImageUrl" placeholder="https://..."></div>
        </div>
        <div style="display:flex;gap:8px;margin-top:10px">
          <button class="btn" id="saveItem">Save/Update Item</button>
          <button class="btn secondary" id="delItem">Delete Item</button>
          <button class="btn secondary" id="refreshItems">Refresh</button>
        </div>
        <table class="table" style="margin-top:10px"><thead><tr><th>ID</th><th>Name</th><th>Price</th><th>Cats</th><th>Featured</th></tr></thead><tbody id="itemsTable"></tbody></table>
      </fieldset>
    </div>
  </main>

  <script type="module" src="firebase-config.sample.js"></script>
  <script type="module" src="admin.js"></script>
  <script>
    const root=document.documentElement, meta=document.getElementById('theme-color');const key='quickbites_theme';
    function setTheme(m){root.setAttribute('data-theme',m);localStorage.setItem(key,m);meta.setAttribute('content',m==='dark'?'#7f0c1e':'#c8102e');document.getElementById('themeToggle').setAttribute('aria-pressed',m==='dark')}
    (function(){const s=localStorage.getItem(key);setTheme(s||((matchMedia('(prefers-color-scheme: dark)').matches)?'dark':'light'));})();
    document.getElementById('themeToggle').addEventListener('click',()=>{setTheme(root.getAttribute('data-theme')==='light'?'dark':'light')});
  </script>
</body>
</html>
